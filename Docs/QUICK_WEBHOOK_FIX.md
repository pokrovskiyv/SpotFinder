# –ë—ã—Å—Ç—Ä–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ Webhook

## –ü—Ä–æ–±–ª–µ–º–∞
–ü–æ—Å–ª–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–∏ –±–æ—Ç –æ—Ç–≤–µ—á–∞–µ—Ç –æ—à–∏–±–∫–æ–π 401, –ø–æ—Ç–æ–º—É —á—Ç–æ webhook –Ω–∞—Å—Ç—Ä–æ–µ–Ω –Ω–∞ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π URL.

## –ü—Ä–∏—á–∏–Ω–∞
‚ùå **–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π URL:** `https://PROJECT_ID.functions.supabase.co/telegram-webhook`  
‚úÖ **–ü—Ä–∞–≤–∏–ª—å–Ω—ã–π URL:** `https://PROJECT_ID.supabase.co/functions/v1/telegram-webhook`

---

## –ë—ã—Å—Ç—Ä–æ–µ —Ä–µ—à–µ–Ω–∏–µ

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Å–∫—Ä–∏–ø—Ç (–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

```powershell
# 1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —Ç–æ–∫–µ–Ω –±–æ—Ç–∞
$env:TELEGRAM_BOT_TOKEN = "–í–ê–®_–¢–û–ö–ï–ù_–ë–û–¢–ê"

# 2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç
.\Docs\scripts\setup-webhook-auto.ps1
```

### –í–∞—Ä–∏–∞–Ω—Ç 2: –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ + Webhook –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

```powershell
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —Ç–æ–∫–µ–Ω –æ–¥–∏–Ω —Ä–∞–∑
$env:TELEGRAM_BOT_TOKEN = "–í–ê–®_–¢–û–ö–ï–ù_–ë–û–¢–ê"

# –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–æ–π webhook
.\Docs\scripts\redeploy-function.ps1
```

---

## –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è –Ω–∞ –±—É–¥—É—â–µ–µ

### –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è –ø–æ—Å—Ç–æ—è–Ω–Ω–æ

–î–æ–±–∞–≤—å—Ç–µ –≤ –≤–∞—à PowerShell –ø—Ä–æ—Ñ–∏–ª—å:

```powershell
# –û—Ç–∫—Ä–æ–π—Ç–µ –ø—Ä–æ—Ñ–∏–ª—å
notepad $PROFILE

# –î–æ–±–∞–≤—å—Ç–µ —Å—Ç—Ä–æ–∫—É:
$env:TELEGRAM_BOT_TOKEN = "–í–ê–®_–¢–û–ö–ï–ù_–ë–û–¢–ê"
```

–¢–µ–ø–µ—Ä—å –ø—Ä–∏ –∫–∞–∂–¥–æ–º —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–∏ webhook –±—É–¥–µ—Ç –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:

```powershell
.\Docs\scripts\redeploy-function.ps1
```

---

## –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ webhook

```powershell
# –í—Ä—É—á–Ω—É—é
$token = "–í–ê–®_–¢–û–ö–ï–ù"
Invoke-RestMethod "https://api.telegram.org/bot$token/getWebhookInfo" | ConvertTo-Json -Depth 5

# –ò–ª–∏ —á–µ—Ä–µ–∑ —Å–∫—Ä–∏–ø—Ç
.\Docs\scripts\setup-webhook-auto.ps1 -BotToken "–í–ê–®_–¢–û–ö–ï–ù"
```

---

## –ß—Ç–æ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ

```json
{
  "ok": true,
  "result": {
    "url": "https://icnnwmjrprufrohiyfpm.supabase.co/functions/v1/telegram-webhook",
    "has_custom_certificate": false,
    "pending_update_count": 0,
    "max_connections": 40
  }
}
```

‚úÖ **URL –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π** –µ—Å–ª–∏ —Å–æ–¥–µ—Ä–∂–∏—Ç `/functions/v1/`

---

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–ü–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ webhook –æ—Ç–ø—Ä–∞–≤—å—Ç–µ –±–æ—Ç—É:

```
–ü—Ä–æ–º–æ—á–∏–ª –Ω–æ–≥–∏
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** –ë–æ—Ç –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç –æ–±—É–≤–Ω—ã–µ –º–∞–≥–∞–∑–∏–Ω—ã, –ù–ï –æ—Ç–µ–ª–∏! üëû

