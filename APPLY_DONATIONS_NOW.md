# üéØ –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞ –¥–æ–Ω–∞—Ç–æ–≤ - –ø–æ—à–∞–≥–æ–≤–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è

## ‚úÖ –ß—Ç–æ —É–∂–µ —Å–¥–µ–ª–∞–Ω–æ

–í–µ—Å—å –∫–æ–¥ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞ –¥–æ–Ω–∞—Ç–æ–≤ **—É–∂–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω**:
- ‚úÖ –ú–∏–≥—Ä–∞—Ü–∏—è –ë–î (—Ñ–∞–π–ª –≥–æ—Ç–æ–≤)
- ‚úÖ DonationManager (–∫–æ–¥ –≥–æ—Ç–æ–≤)
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω Orchestrator (–∫–æ–¥ –≥–æ—Ç–æ–≤)
- ‚úÖ Telegram Client —Ä–∞—Å—à–∏—Ä–µ–Ω (–∫–æ–¥ –≥–æ—Ç–æ–≤)
- ‚úÖ –¢–∏–ø—ã –¥–æ–±–∞–≤–ª–µ–Ω—ã (–∫–æ–¥ –≥–æ—Ç–æ–≤)
- ‚úÖ –ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã –¥–æ–±–∞–≤–ª–µ–Ω—ã (–∫–æ–¥ –≥–æ—Ç–æ–≤)
- ‚úÖ –ö–Ω–æ–ø–∫–∏ —Å–æ–∑–¥–∞–Ω—ã (–∫–æ–¥ –≥–æ—Ç–æ–≤)
- ‚úÖ –°–∫—Ä–∏–ø—Ç –∫–æ–º–∞–Ω–¥ –æ–±–Ω–æ–≤–ª–µ–Ω (–∫–æ–¥ –≥–æ—Ç–æ–≤)
- ‚úÖ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —Å–æ–∑–¥–∞–Ω–∞ (—Ñ–∞–π–ª—ã –≥–æ—Ç–æ–≤—ã)

---

## üìã –ß—Ç–æ –ù–£–ñ–ù–û —Å–¥–µ–ª–∞—Ç—å –í–ê–ú (3 —à–∞–≥–∞)

### ‚ö° –®–ê–ì 1: –ü—Ä–∏–º–µ–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é –ë–î (2 –º–∏–Ω—É—Ç—ã)

#### –°–ø–æ—Å–æ–± A: –ß–µ—Ä–µ–∑ Supabase Dashboard (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

1. –û—Ç–∫—Ä–æ–π—Ç–µ: https://app.supabase.com
2. –í—ã–±–µ—Ä–∏—Ç–µ –≤–∞—à –ø—Ä–æ–µ–∫—Ç
3. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **SQL Editor** (—Å–ª–µ–≤–∞ –≤ –º–µ–Ω—é)
4. –ù–∞–∂–º–∏—Ç–µ **New query**
5. –û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª: `supabase/migrations/007_create_donations_table.sql`
6. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ **–≤–µ—Å—å** SQL –∫–æ–¥ –∏–∑ —Ñ–∞–π–ª–∞
7. –í—Å—Ç–∞–≤—å—Ç–µ –≤ SQL Editor
8. –ù–∞–∂–º–∏—Ç–µ **Run** (–∏–ª–∏ `Ctrl+Enter`)

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**
```sql
SELECT table_name FROM information_schema.tables 
WHERE table_schema = 'public' AND table_name = 'donations';
```

–î–æ–ª–∂–Ω–∞ –≤–µ—Ä–Ω—É—Ç—å—Å—è —Å—Ç—Ä–æ–∫–∞ —Å `donations`.

---

### üì± –®–ê–ì 2: –û–±–Ω–æ–≤–∏—Ç—å –∫–æ–º–∞–Ω–¥—ã –±–æ—Ç–∞ (1 –º–∏–Ω—É—Ç–∞)

#### –°–ø–æ—Å–æ–± A: –ß–µ—Ä–µ–∑ —Å–∫—Ä–∏–ø—Ç (—Ç—Ä–µ–±—É–µ—Ç—Å—è —Ç–æ–∫–µ–Ω)

```bash
# –í Git Bash –∏–ª–∏ WSL
cd c:\Projects\SpotFinder
export TELEGRAM_BOT_TOKEN="YOUR_BOT_TOKEN"
bash scripts/setup-telegram-commands.sh
```

#### –°–ø–æ—Å–æ–± B: –ß–µ—Ä–µ–∑ curl –≤ PowerShell

```powershell
$TOKEN = "YOUR_BOT_TOKEN"

Invoke-RestMethod -Uri "https://api.telegram.org/bot$TOKEN/setMyCommands" `
  -Method Post `
  -ContentType "application/json" `
  -Body '{
    "commands": [
      {"command": "start", "description": "–ù–∞—á–∞—Ç—å —Ä–∞–±–æ—Ç—É —Å –±–æ—Ç–æ–º"},
      {"command": "help", "description": "–°–ø—Ä–∞–≤–∫–∞ –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é"},
      {"command": "location", "description": "–û–±–Ω–æ–≤–∏—Ç—å –≥–µ–æ–ª–æ–∫–∞—Ü–∏—é"},
      {"command": "donate", "description": "–ü–æ–¥–¥–µ—Ä–∂–∞—Ç—å –±–æ—Ç–∞"}
    ]
  }'
```

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**
–û—Ç–∫—Ä–æ–π—Ç–µ –±–æ—Ç–∞ –≤ Telegram ‚Üí –Ω–∞–∂–º–∏—Ç–µ "/" ‚Üí –¥–æ–ª–∂–Ω–∞ –ø–æ—è–≤–∏—Ç—å—Å—è –∫–æ–º–∞–Ω–¥–∞ `/donate`

---

### üöÄ –®–ê–ì 3: –†–µ–¥e–ø–ª–æ–π—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é (1 –º–∏–Ω—É—Ç–∞)

#### –ß–µ—Ä–µ–∑ Supabase Dashboard:

1. –û—Ç–∫—Ä–æ–π—Ç–µ Supabase Dashboard
2. –í –±–æ–∫–æ–≤–æ–º –º–µ–Ω—é –≤—ã–±–µ—Ä–∏—Ç–µ **Functions**
3. –ù–∞–π–¥–∏—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é `telegram-webhook`
4. –ù–∞–∂–º–∏—Ç–µ **Deploy** (–∏–ª–∏ **Redeploy**)

–ò–õ–ò

#### –ß–µ—Ä–µ–∑ Supabase CLI (–µ—Å–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω):

```bash
supabase functions deploy telegram-webhook
```

---

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞

–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –≤—Å–µ—Ö —à–∞–≥–æ–≤:

1. –û—Ç–∫—Ä–æ–π—Ç–µ –±–æ—Ç–∞ –≤ Telegram
2. –û—Ç–ø—Ä–∞–≤—å—Ç–µ `/donate`
3. **–û–∂–∏–¥–∞–Ω–∏–µ:** –ü–æ—è–≤—è—Ç—Å—è –∫–Ω–æ–ø–∫–∏ —Å —Å—É–º–º–∞–º–∏ –¥–æ–Ω–∞—Ç–æ–≤ (50, 100, 500 Stars)
4. –ù–∞–∂–º–∏—Ç–µ –ª—é–±—É—é –∫–Ω–æ–ø–∫—É
5. **–û–∂–∏–¥–∞–Ω–∏–µ:** Telegram –ø–æ–∫–∞–∂–µ—Ç –æ–∫–Ω–æ –æ–ø–ª–∞—Ç—ã
6. –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ –ø–ª–∞—Ç–µ–∂
7. **–û–∂–∏–¥–∞–Ω–∏–µ:** –ü—Ä–∏–¥–µ—Ç –±–ª–∞–≥–æ–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ

---

## üìä –ß—Ç–æ –±—ã–ª–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

### –ù–æ–≤—ã–µ —Ñ–∞–π–ª—ã:
- ‚úÖ `supabase/migrations/007_create_donations_table.sql` - –º–∏–≥—Ä–∞—Ü–∏—è –ë–î
- ‚úÖ `supabase/functions/_shared/donation-manager.ts` - –º–µ–Ω–µ–¥–∂–µ—Ä –¥–æ–Ω–∞—Ç–æ–≤
- ‚úÖ `Docs/Donations.md` - –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- ‚úÖ `APPLY_DONATION_MIGRATION.md` - –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è
- ‚úÖ `QUICK_APPLY_DONATION_MIGRATION.md` - –±—ã—Å—Ç—Ä–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è
- ‚úÖ `SHOW_MIGRATION_SQL.md` - –≥–æ—Ç–æ–≤—ã–π SQL
- ‚úÖ `APPLY_DONATIONS_NOW.md` - —ç—Ç–æ—Ç —Ñ–∞–π–ª

### –ò–∑–º–µ–Ω–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:
- ‚úÖ `supabase/functions/_shared/types.ts` - –¥–æ–±–∞–≤–ª–µ–Ω—ã —Ç–∏–ø—ã –ø–ª–∞—Ç–µ–∂–µ–π
- ‚úÖ `supabase/functions/_shared/orchestrator.ts` - –æ–±—Ä–∞–±–æ—Ç–∫–∞ –¥–æ–Ω–∞—Ç–æ–≤
- ‚úÖ `supabase/functions/_shared/telegram-client.ts` - –º–µ—Ç–æ–¥—ã –∏–Ω–≤–æ–π—Å–æ–≤
- ‚úÖ `supabase/functions/_shared/constants.ts` - –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã –¥–æ–Ω–∞—Ç–æ–≤
- ‚úÖ `supabase/functions/_shared/telegram-formatter.ts` - –∫–Ω–æ–ø–∫–∏ –¥–æ–Ω–∞—Ç–æ–≤
- ‚úÖ `scripts/setup-telegram-commands.sh` - –∫–æ–º–∞–Ω–¥–∞ /donate
- ‚úÖ `NEXT_STEPS.md` - –æ–±–Ω–æ–≤–ª–µ–Ω–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–∞–±–ª–∏—Ü

### –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:
- ‚úÖ –ö–æ–º–∞–Ω–¥–∞ `/donate`
- ‚úÖ –ö–Ω–æ–ø–∫–∏ —Å —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ —Å—É–º–º–∞–º–∏ (50, 100, 500 Stars)
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –ø–ª–∞—Ç–µ–∂–µ–π —á–µ—Ä–µ–∑ Telegram Stars (XTR)
- ‚úÖ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–æ–Ω–∞—Ç–æ–≤ –≤ –ë–î
- ‚úÖ –ë–ª–∞–≥–æ–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è —Å –æ–±—â–µ–π —Å—É–º–º–æ–π
- ‚úÖ –ó–∞—â–∏—Ç–∞ –æ—Ç –¥—É–±–ª–∏–∫–∞—Ç–æ–≤ –ø–ª–∞—Ç–µ–∂–µ–π
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è —Å—É–º–º (1-2500 Stars)

---

## ‚ö° –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

–ï—Å–ª–∏ –Ω—É–∂–Ω–æ –ø—Ä–∏–º–µ–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é –ø—Ä—è–º–æ —Å–µ–π—á–∞—Å:

1. –û—Ç–∫—Ä–æ–π—Ç–µ: https://app.supabase.com ‚Üí –≤–∞—à –ø—Ä–æ–µ–∫—Ç ‚Üí SQL Editor
2. –û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª: `supabase/migrations/007_create_donations_table.sql`
3. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –≤–µ—Å—å SQL –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ
4. –û–±–Ω–æ–≤–∏—Ç–µ –∫–æ–º–∞–Ω–¥—ã (—Å–º. –®–∞–≥ 2 –≤—ã—à–µ)
5. –†–µ–¥e–ø–ª–æ–π—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é (—Å–º. –®–∞–≥ 3 –≤—ã—à–µ)
6. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ `/donate`

---

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- [Docs/Donations.md](./Docs/Donations.md) - –î–µ—Ç–∞–ª—å–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞
- [APPLY_DONATION_MIGRATION.md](./APPLY_DONATION_MIGRATION.md) - –ü–æ–ª–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è
- [QUICK_APPLY_DONATION_MIGRATION.md](./QUICK_APPLY_DONATION_MIGRATION.md) - –ö—Ä–∞—Ç–∫–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è
- [SHOW_MIGRATION_SQL.md](./SHOW_MIGRATION_SQL.md) - –ì–æ—Ç–æ–≤—ã–π SQL –∫–æ–¥

---

## üéâ –í—Å—ë –≥–æ—Ç–æ–≤–æ!

–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –¥–æ–Ω–∞—Ç–æ–≤ –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω. –û—Å—Ç–∞–ª–æ—Å—å —Ç–æ–ª—å–∫–æ –ø—Ä–∏–º–µ–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è (3 —à–∞–≥–∞ –≤—ã—à–µ).

**–í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:** ~5 –º–∏–Ω—É—Ç

**–£–¥–∞—á–∏! üöÄ**

